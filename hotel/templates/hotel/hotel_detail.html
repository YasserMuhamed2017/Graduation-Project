{% extends "hotel/base.html" %}
{% load static %}

{% block content %}

<!-- AOS CSS -->
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

<div class="container my-5">
  
  <div class="container my-5" data-aos="fade-up">
      <div class="row" data-aos="fade-up">
          <div class="col-md-12 mb-4" style="height:70vh ;width:100 ;overflow:hidden">
              <img style="height:70vh; width:100%; object-fit: cover;" src="{{ hotel.image.url }}"
                  class="img-fluid rounded-4 shadow" alt="{{ hotel.name }}">
          </div>
          <div class="col-md-12 mb-4" data-aos="fade-left">
            <div class="p-4 bg-white rounded-4 shadow-sm border border-light-subtle">
              <!-- Hotel Name and Location -->
              <div class="mb-3">
                <h1 class="fw-bold text-primary mb-1">{{ hotel.name }}</h1>
                <p class="text-muted mb-0"><i class="fas fa-map-marker-alt me-1 text-primary"></i>{{ hotel.location }}</p>
              </div>

              <!-- Description -->
              <div class="mb-3">
                <h5 class="text-secondary fw-semibold">About</h5>
                <p class="mb-0">{{ hotel.description }}</p>
              </div>

              <!-- Contact -->
              <div class="mb-3">
                <h5 class="text-secondary fw-semibold">Contact</h5>
                <p class="mb-0"><i class="fa-solid fa-phone text-primary"></i> {{ hotel.contact_number }}</p>
              </div>

              <!-- Rating -->
              <div>
                <h5 class="text-secondary fw-semibold">Hotel Rating</h5>
                <div>
                  {% with rating=hotel.rating %}
                    {% for i in "12345" %}
                      {% if rating >= forloop.counter %}
                        <i class="fas fa-star text-warning"></i>
                      {% elif rating >= forloop.counter0|add:"0.5" %}
                        <i class="fas fa-star-half-alt text-warning"></i>
                      {% else %}
                        <i class="far fa-star text-warning"></i>
                      {% endif %}
                    {% endfor %}
                  {% endwith %}
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>

</div>

<!-- Search Form -->
<div class="container" data-aos="fade-up">
  
<div class="row">
  <div class="col-md-2">
    <h4 class="mb-4">Filter by : </h4>

     <div class="search-form mb-5" data-aos="fade-up">
      <form method="get">
        <div class="row">
          
          <!-- Room Type -->
          <div class="col-md-12 mb-3">
            <label for="room_type" class="form-label">Room Type</label>
            <select id="room_type" name="room_type" class="form-select">
              <option value="">All Types</option>
              <option value="Single" {% if selected_room_type == 'Single' %}selected{% endif %}>Single</option>
              <option value="Double" {% if selected_room_type == 'Double' %}selected{% endif %}>Double</option>
              <option value="Suite" {% if selected_room_type == 'Suite' %}selected{% endif %}>Suite</option>
            </select>
          </div>
  
          <!-- Availability -->
          <div class="col-md-12 mb-3">
            
            <label for="availability" class="form-label">Availability</label>
            <select id="availability" name="availability" class="form-select">
              <option value="">All</option>
              <option value="available" {% if selected_availability == 'available' %}selected{% endif %}>Available</option>
              <option value="unavailable" {% if selected_availability == 'unavailable' %}selected{% endif %}>Not Available</option>
            </select>
          </div>
  
        </div>
      </form>
    </div>
     


  </div>
  <div class="col-md-10 border-start">
    <h4 class="mb-4">Result Rooms</h4>
    <input type="hidden" id="hotel-id" value="{{ hotel.id }}">
    <div class="row g-4" id="filtered-rooms">
    {% include 'hotel/partials/room_list.html' with rooms=rooms %}
  </div>

</div>
</div>
</div>


<!-- Scripts -->
  <!-- AOS JS -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script src="{% static 'js/room_filter.js' %}"></script>

{% endblock %}
