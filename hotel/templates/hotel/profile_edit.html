{% extends 'hotel/base.html' %}
{% load static %}
{% block content %}
<div class="container">
<div class="row justify-content-center">
  <div class="border-0 rounded-3 overflow-hidden mb-5">
    <div class="py-3 border-bottom">
      <div class="d-flex justify-content-between align-items-center">
        <h2 class="h4 mb-0 fw-bold text-primary">
          <i class="bi bi-person-circle me-2"></i>Profile Information
        </h2>
        <a href="#" class="btn btn-sm btn-outline-primary">
          <i class="bi bi-pencil-square"></i> Edit Profile
        </a>
      </div>
    </div>
            <!-- Profile Picture Section -->
            <div class="mb-4 pb-3 border-bottom text-center">
              <div class="mb-3">
                {% if user.profile_picture %}
                  <img src="{{ user.profile_picture.url }}" class="rounded-circle img-thumbnail shadow" style="width: 150px; height: 150px; object-fit: cover;" alt="{{ user.first_name }}'s profile picture">
                {% else %}
                  <div class="rounded-circle bg-light d-flex align-items-center justify-content-center mx-auto shadow" style="width: 150px; height: 150px;">
                    <i class="bi bi-person-fill text-secondary" style="font-size: 4rem;"></i>
                  </div>
                {% endif %}
              </div>
              <h4 class="mb-0 fw-bold">{{ user.first_name }} {{ user.last_name }}</h4>
              <p class="text-muted mb-0">Member since {{ user.date_joined|date:"F d, Y" }}</p>
            </div>

    <div class="mb-4 pb-3 border-bottom">
      <h5 class="text-uppercase text-primary mb-3 fw-bold pt-3">
        <i class="bi bi-person-lines-fill me-2"></i>Personal Information
      </h5>
      <div class="row g-3">
        <div class="col-md-6">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">First Name</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.first_name|default:"Not provided" }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">Last Name</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.last_name|default:"Not provided" }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">Email Address</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.email|default:"Not provided" }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">Phone Number</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.phone_number|default:"Not provided" }}</span
            >
          </div>
        </div>
      </div>
    </div>
    <div class="mb-4 pb-3 border-bottom">
      <h5 class="text-uppercase text-primary mb-3 fw-bold">
        <i class="bi bi-info-circle-fill me-2"></i>Additional Information
      </h5>
      <div class="row g-3">
        <div class="col-md-6">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">Birthdate</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.birthdate|date:"F d, Y"|default:"Not provided" }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">Facebook Profile</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.facebook_profile|default:"Not provided" }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">Country</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.country|default:"Not provided" }}</span
            >
          </div>
        </div>
        <div class="col-md-6">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">Member Since</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.date_joined|date:"F d, Y" }}</span
            >
          </div>
        </div>
        <!-- User Bio -->
        <div class="col-12">
          <div class="bg-light p-3 rounded-2">
            <small class="text-muted d-block">Bio</small>
            <span class="fw-semibold d-block mt-1"
              >{{ user.bio|default:"Not provided" }}</span
            >
          </div>
        </div>
      </div>
    </div>
    <!-- Account Settings Section -->
    <div class="mb-4 pb-3 border-bottom">
      <h5 class="text-uppercase text-primary mb-3 fw-bold">
        <i class="bi bi-gear-fill me-2"></i>Account Settings
      </h5>
      <!-- Password Management -->
      <div class="bg-light p-3 rounded-2 mb-3">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <small class="text-muted d-block">Password Management</small>
            <span class="fw-semibold d-block mt-1">Last changed: 3 months ago</span>
          </div>
          <a href='#' class="btn btn-primary btn-sm">
            <i class="bi bi-key-fill me-1"></i> Change Password
          </a>
        </div>
      </div>
      
      <!-- Account Deletion -->
      <div class="bg-light p-3 rounded-2">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <small class="text-muted d-block">Delete Account</small>
            <span class="fw-semibold d-block mt-1 text-danger">Permanently delete your account and associated data</span>
          </div>
          {% if not user.is_admin and not user.is_superuser %}
          <a href=" # " class="btn btn-outline-danger btn-sm">
            <i class="bi bi-trash me-1"></i> Delete Account
          </a>
          {% else %}
          <button class="btn btn-outline-danger btn-sm" disabled title="Admin accounts cannot be deleted">
            <i class="bi bi-trash me-1"></i> Delete Account
          </button>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
    {% endblock %}